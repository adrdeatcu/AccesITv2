<div class="employee-list">
    
    <button class="back-btn" routerLink="/admin"> â¬…ï¸ Ãnapoi la Panoul Administrator</button>
  
    <h2>ğŸ“‹ Lista AngajaÈ›ilor</h2>

    <div *ngIf="employees.length === 0">
      <p>Nu existÄƒ angajaÈ›i Ã®nregistraÈ›i.</p>
    </div>

    <div *ngIf="isLoading" class="loading-indicator">
      <div class="spinner"></div>
      <p>Se Ã®ncarcÄƒ angajaÈ›ii...</p>
    </div>

    <div *ngIf="error" class="error-message">
      <p>{{ error }}</p>
      <button (click)="loadEmployees()">ÃncearcÄƒ din nou</button>
    </div>

    <table *ngIf="employees.length > 0" class="employee-table">
      <thead>
        <tr>
          <th>Nume</th>
          <th>Badge</th>
          <th>Bluetooth</th>
          <th>Interval Orar</th>
          <th>AcÈ›iuni</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let employee of employees">
          <td>{{ employee.name }}</td>
          <td>{{ employee.badge_number }}</td>
          <td>{{ employee.bluetooth_code }}</td>
          <td>{{ employee.allowed_schedule }}</td>
          <td class="actions-cell">
            <button 
              class="delete-btn" 
              (click)="confirmDelete(employee)"
              [disabled]="isDeleting === employee.id">
              <i class="fas fa-trash"></i>
              <span *ngIf="isDeleting === employee.id" class="spinner-sm"></span>
              È˜terge
            </button>
          </td>
        </tr>
      </tbody>
    </table>

    <!-- Confirmation Modal -->
    <div *ngIf="employeeToDelete" class="delete-modal">
      <div class="modal-content">
        <h3>Confirmare È™tergere</h3>
        <p>EÈ™ti sigur cÄƒ vrei sÄƒ È™tergi utilizatorul <strong>{{ employeeToDelete.name }}</strong>?</p>
        <p class="warning">AceastÄƒ acÈ›iune va È™terge utilizatorul din toate tabelele È™i nu poate fi anulatÄƒ!</p>
        <div class="modal-actions">
          <button class="cancel-btn" (click)="employeeToDelete = null">AnuleazÄƒ</button>
          <button class="confirm-btn" (click)="deleteEmployee(employeeToDelete.id)">
            ConfirmÄƒ È˜tergerea
          </button>
        </div>
      </div>
    </div>
  </div>
